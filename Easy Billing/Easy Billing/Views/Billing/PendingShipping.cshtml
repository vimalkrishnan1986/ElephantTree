@using PagedList;
@using PagedList.Mvc;

@model IPagedList<EasyBilling.Models.PendingShipping>


<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/3.2.10/jquery.validate.unobtrusive.min.js"></script>
<!--//tags -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link href="~/UI styles/css/bootstrap.css" rel="stylesheet" type="text/css" media="all" />
<link href="~/UI styles/css/style.css" rel="stylesheet" type="text/css" media="all" />
<link href="~/UI styles/css/font-awesome.css" rel="stylesheet">
<!--pop-up-box-->
<link href="~/UI styles/css/popuo-box.css" rel="stylesheet" type="text/css" media="all" />
<!--//pop-up-box-->
<!-- price range -->
<link rel="stylesheet" type="text/css" href="~/UI styles/css/jquery-ui1.css">
<!-- fonts -->
<link href="//fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800" rel="stylesheet">

<script src="http://code.jquery.com/jquery-1.7.1.min.js" type="text/javascript"></script>

<script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>


<!-- top-header -->
<div class="header-most-top w3-animate-right" style="background:linear-gradient(0.25turn, #3f87a6, #ebf8e1, #f69d3c);">
    <p style="background:linear-gradient(0.25turn, #3f87a6, #ebf8e1, #f69d3c); color:black">Pending Shipping List</p>
</div>



<!-- page -->
<div class="services-breadcrumb w3-animate-left">
    <div class="agile_inner_breadcrumb">
        <div class="container">
            <ul class="w3_short">
                <li>
                    <a href="~/">Home</a>
                    <i>|</i>
                </li>
                <li>Pending Shipping </li>

            </ul>
        </div>
    </div>
</div>
<!-- //page -->
<!-- top Products -->

<div class="">
    <br />
    <div class="container" style="padding-bottom:20px">

        <div class="modal fade" tabindex="-1" id="prcdok" data-keyboard="true" data-backdrop="" style="position:center">
            <div class="modal-dialog modal-sm" style="position:absolute; width:40%;height:30%;top:70px;left:500px">
                <div class="modal-content ">
                    <div class="modal-header" style="background-color:black">
                        <button type="button" style="color:darkorange" class="close" data-dismiss="modal">
                            &times;
                        </button>
                        <h3 style="color:yellow"><b> Shipping Bill Statement </b></h3>

                    </div>
                    @*<div class="modal-body">*@
                    <div class="modal-content">
                        <div style="float:right; padding:10px 10px 10px 10px"><button class="lnkclick" target="popup">Print &nbsp <span style="float:right" class="glyphicon glyphicon-print"></span> </button></div>
                        <div class="col-md-12 col-sm-12 single-right-left ">
                            @if (@ViewBag.success != null || @ViewBag.error != null)
                            {
                                if (@ViewBag.success != null)
                                {
                                    <h4><b>@ViewBag.success! </b></h4>
                                    <br />
                                    <h5><b>Your shipping bill number: <span class="bllno"></span>  </b></h5>
                                    <h5>You can keep a copy of this number or generate report...</h5>

                                }
                                else
                                {
                                    <h4><b>@ViewBag.error! </b></h4>

                                }
                            }

                            <div class="grid images_3_of_2">
                                <div class="flexslider">


                                    <div class="clearfix"></div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="modal-footer">

                        <button type="button" class="btn btn-primary"
                                data-dismiss="modal">
                            Close
                        </button>

                    </div>
                </div>
            </div>
        </div>
        <!-- tittle heading -->
        <!-- //tittle heading -->
        <!-- product left -->
      
        <div class="side-bar col-md-3 w3-animate-right" style="box-shadow:0px 0px 15px 0px #D6D6D6;">
            <div class="search-hotel">
                <h3 class="agileits-sear-head">Generate Report...</h3>

                <script type="text/javascript">
    $(function () {

        $(".txtSearch1").autocomplete({
            source: 'http://localhost:8087/Reports/GetInvoice',
            minLength: 1
        });
        
    });
                </script>

                @*<form >*@

                <label>Invoice number: &nbsp;</label><input type="checkbox" style="height:2px; width:10px" checked data-toggle="toggle" data-on="OK" id="BillCheck" onchange="addbox1();" data-off="No" data-offstyle="danger"> &nbsp;&nbsp;

                <br /><br />
                <input type="search" placeholder="Invoice Number..." name="term" required="" class="txtSearch1">
            
                <input type="button" value=" " class="getpurchbill" target="popup" style="width:40px;background:url('http://localhost:8087/UI styles/images/search.png') no-repeat 13px 11px #1accfd;height:39px;border:none;">
                @*</form>*@
                <script>
                 
                    $('.getpurchbill').click(function () {

                        if ($('#BillCheck').is(":checked")) {
                            window.open('http://localhost:8087/api/Billing/GetBillingListReport?Bllno=' + $('.txtSearch1').val(), 'name', 'width=600,height=400');
                        }
                       

                    });



                </script>
            </div>

        </div>
        <!-- //product left -->
        <!-- product right -->
        <div class="agileinfo-ads-display col-md-9 w3l-rightpro">
            <div class="wrapper" id="wrapper">

                <div class="product-sec1">
                    @if (@ViewBag.success != null || @ViewBag.error != null)
                    {
                        if (@ViewBag.success != null)
                        {
                            <label id="chkmsg" hidden>@ViewBag.success</label>
                            <label id="chkbllno" hidden>@ViewBag.billno</label>
                        }
                        else
                        {
                            <label id="chkmsg" hidden>@ViewBag.error</label>
                        }
                    }
                    <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12 product-men  w3-animate-left">
                        <script>
                            $(document).ready(function () {
                                if ($('#chkmsg').text() != '') {

                                    $('.bllno').text($('#chkbllno').text());

                                    $('#prcdok').modal('toggle');
                                    $('#prcdok').modal('show');

                                }
                                $('.lnkclick').click(function () {

                                    window.open('http://localhost:8087/api/Billing/GetBillingListReport?Bllno=' + $('.bllno').text(), 'name', 'width=600,height=400');
                                });

                            });

                        </script>

                        @foreach (var pendingshipping in Model)
                        {
                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12  men-pro-item simpleCart_shelfItem" id="searchResult">

                                <div class="men-thumb-item col-xl-5 col-lg-3 col-md-4 col-sm-5 text-sm-left text-center pr-sm-0" style="box-sizing:border-box;line-height:1.0">
                                    <img data-target="#Stockmodel" style="vertical-align:middle;padding:0.25rem" data-toggle="modal" class="morph " src="~/UI styles/Test UI/images/tyre.png" alt="Easy Billing">

                                </div>
                                <div class="item-info-product col-xl-7 col-lg-9 col-md-8 col-sm-7 px-sm-0" style="margin-top:0px">
                                    <div class=" p-4" style="background:#f3f3f9 ; padding:1.0rem !important;box-sizing:border-box;line-height:1.0">

                                        <h5 style="color:#8d3939;font-size:26px;margin-top:0;margin-bottom:0.5rem">
                                            <b> @pendingshipping.tyreName </b>
                                            @if (@pendingshipping.Isuser != true)
                                            {
                                                <i class="fa fa-flag-checkered mr-2" style="color:#4caf50;font-weight:900;margin-right:0.5rem !important;font-style:normal"></i>
                                            }
                                        </h5>
                                        <div class="w3ls-agent-info border-top pt-4 mb-4" style="margin-bottom:1.0rem !important;border-top:1px solid #dee2e6 !important">
                                            <ul style="margin:0;padding:0">

                                                <li class="text-dark my-3" style="margin-bottom:1rem !important;margin-top:1rem !important;display:block;font-size:16px">
                                                    <i class="fa fa-user-circle" style="color:#4caf50;font-weight:900;margin-right:0.5rem !important;font-style:normal"></i><b> @pendingshipping.Customer_name</b>
                                                </li>
                                                <li class="text-dark my-3" style="margin-bottom:1rem !important;margin-top:1rem !important;display:block;font-size:16px">
                                                    <i class="fa fa-puzzle-piece" style="color:#4caf50;font-weight:900;margin-right:0.5rem !important;font-style:normal"></i><b>Total Qty: @pendingshipping.Total_Piece</b>
                                                </li>
                                                <li class="text-dark my-3" style="margin-bottom:1rem !important;margin-top:1rem !important;display:block;font-size:16px">
                                                    <i class="fa fa-rupee" style="color:#4caf50;font-weight:900;margin-right:0.5rem !important;font-style:normal"></i><b>Rs. @pendingshipping.Total_Price</b>
                                                    [ <b>@pendingshipping.paymentstatement</b> ]
                                                </li>
                                                <li class="text-dark my-3" style="margin-bottom:1rem !important;margin-top:1rem !important;display:block;font-size:16px">
                                                    <i class="fa fa-calendar-check" style="color:#4caf50;font-weight:900;margin-right:0.5rem !important;font-style:normal"></i><b>Applied date: @pendingshipping.Applied_Date.ToShortDateString()</b>
                                                </li>
                                                <li class="switch" id="mySelect" style="display:block;font-size:16px">
                                                    @Html.ActionLink("Approve", "PendingShipping", new { id = pendingshipping.token }, new { @class = "btn-primary", @style = "background-color:black;color:yellow;padding:5px 15px 5px 15px" })
                                                    @*@if (cstmrs.IsActive == true)
            {
                ViewBag.token = cstmrs.Token_number;


                <input type="checkbox" checked data-toggle="toggle" data-on="Active" id="chk1" value="@cstmrs.Token_number" onchange="myFunction(this.value);" data-off="Not Active" data-offstyle="danger">

            }
            else
            {
                <input type="checkbox" data-toggle="toggle" data-on="Active" id="chk2" value="@cstmrs.Token_number" onchange="myFunction(this.value);" data-off="Not Active" data-offstyle="danger">

            }*@
                                                </li>

                                            </ul>
                                        </div>

                                    </div>

                                    @*</div>*@
                                </div>
                            </div>
                        }

                    </div>



                    <div class="clearfix"></div>
                </div>

                @Html.PagedListPager(Model, Page => Url.Action("Index", new { Page, keyword = Request.QueryString["keyword"] }), new PagedListRenderOptions()
                {
                    Display = PagedListDisplayMode.IfNeeded,
                    DisplayPageCountAndCurrentLocation = true,
                    DisplayItemSliceAndTotal = true
                })
            </div>
        </div>
        <!-- //product right -->
    </div>
</div>
<!-- //top products -->
<!-- popup modal (for signin & signup)-->
